{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Volumes/Transcend/Coding Projects/React Projects/instagram-clone/components/home/Post.js\";\n\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Divider } from 'react-native-elements';\nimport { firebase, db } from \"../../firebase\";\n\nvar Post = function Post(_ref) {\n  var post = _ref.post,\n      navigation = _ref.navigation;\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 3\n    }\n  }, React.createElement(Divider, {\n    orientation: \"vertical\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 4\n    }\n  }), React.createElement(PostHeader, {\n    post: post,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 4\n    }\n  }), React.createElement(PostImage, {\n    post: post,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 4\n    }\n  }), React.createElement(PostFooter, {\n    post: post,\n    navigation: navigation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 4\n    }\n  }));\n};\n\nvar PostHeader = function PostHeader(_ref2) {\n  var post = _ref2.post;\n  return React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      paddingHorizontal: 10,\n      paddingVertical: 8,\n      backgroundColor: '#fff'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 3\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 4\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: post.profile_picture\n    },\n    style: {\n      width: 35,\n      height: 35,\n      borderRadius: 40\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }), React.createElement(Text, {\n    style: {\n      color: '#000',\n      marginLeft: 10,\n      fontWeight: '600'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }, post.user)), React.createElement(TouchableOpacity, {\n    style: {\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 4\n    }\n  }, React.createElement(Image, {\n    style: {\n      width: 25,\n      height: 25\n    },\n    source: require(\"../../assets/post-header-menu.png\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }\n  })));\n};\n\nvar PostImage = function PostImage(_ref3) {\n  var post = _ref3.post;\n  return React.createElement(Image, {\n    source: {\n      uri: post.imageURL\n    },\n    style: {\n      width: '100%',\n      height: 400,\n      resizeMode: 'cover'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 3\n    }\n  });\n};\n\nvar PostFooter = function PostFooter(_ref4) {\n  var post = _ref4.post,\n      navigation = _ref4.navigation;\n\n  var handleLikes = function handleLikes() {\n    var currentLikeStatus = !post.likes_by_users.includes(firebase.auth().currentUser.email);\n    db.collection('users').doc(post.owner_email).collection('posts').doc(post.id).update({\n      likes_by_users: currentLikeStatus ? firebase.firestore.FieldValue.arrayUnion(firebase.auth().currentUser.email) : firebase.firestore.FieldValue.arrayRemove(firebase.auth().currentUser.email)\n    }).then(function () {\n      console.log(\"Document updated successfully\");\n    }).catch(function (error) {\n      console.log(\"Error updating document: \", error);\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      paddingHorizontal: 15\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      paddingVertical: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return handleLikes(post);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }\n  }, React.createElement(Image, {\n    source: post.likes_by_users.includes(firebase.auth().currentUser.email) ? require(\"../../assets/heart-icon-filled.png\") : require(\"../../assets/heart-icon.png\"),\n    style: styles.footerIcon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.push('CommentsScreen', {\n        post: post\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 6\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/comment-icon.png\"),\n    style: styles.footerIcon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  })), React.createElement(TouchableOpacity, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 6\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/share-icon.png\"),\n    style: [styles.footerIcon, {\n      transform: [{\n        rotate: '45deg'\n      }]\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }))), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableOpacity, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 6\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/save-icon.png\"),\n    style: [styles.footerIcon, {\n      marginRight: 0\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  })))), React.createElement(PostLikes, {\n    post: post,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }\n  }), React.createElement(PostCaption, {\n    post: post,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 4\n    }\n  }), React.createElement(PostCommentsSection, {\n    post: post,\n    navigation: navigation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 4\n    }\n  }), React.createElement(PostComments, {\n    post: post,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }\n  }));\n};\n\nvar PostLikes = function PostLikes(_ref5) {\n  var post = _ref5.post;\n  return React.createElement(Text, {\n    style: {\n      color: '#000',\n      fontWeight: '500'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 3\n    }\n  }, post.likes_by_users.length.toLocaleString('en'), \" likes\");\n};\n\nvar PostCaption = function PostCaption(_ref6) {\n  var post = _ref6.post;\n  return React.createElement(Text, {\n    style: {\n      color: '#000',\n      marginTop: 7\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 3\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: '700'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 47\n    }\n  }, post.user), \" \", post.caption);\n};\n\nvar PostCommentsSection = function PostCommentsSection(_ref7) {\n  var post = _ref7.post,\n      navigation = _ref7.navigation;\n  return React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.push('CommentsScreen', {\n        post: post\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 3\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 3\n    }\n  }, post.comments.length != 0 ? React.createElement(Text, {\n    style: {\n      color: '#000',\n      marginVertical: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 34\n    }\n  }, \"View\", post.comments.length > 1 ? ' all' : '', \" \", post.comments.length, \" \", post.comments.length > 1 ? 'comments' : 'comment') : null));\n};\n\nvar PostComments = function PostComments(_ref8) {\n  var post = _ref8.post;\n  var firstTwoComments = post.comments.length > 1 ? post.comments.slice(0, 2) : null;\n  return React.createElement(View, {\n    style: {\n      marginBottom: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 3\n    }\n  }, firstTwoComments ? firstTwoComments.map(function (comment, index) {\n    return React.createElement(Text, {\n      style: {\n        marginBottom: 2,\n        color: '#000'\n      },\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 12\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontWeight: '700'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 71\n      }\n    }, comment.user), \" \", comment.text);\n  }) : post.comments.map(function (comment, index) {\n    return React.createElement(Text, {\n      style: {\n        marginBottom: 2,\n        color: '#000'\n      },\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 12\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontWeight: '700'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 71\n      }\n    }, comment.user), \" \", comment.text);\n  }));\n};\n\nvar styles = StyleSheet.create({\n  footerIcon: {\n    width: 30,\n    height: 30,\n    marginRight: 15\n  }\n});\nexport default Post;","map":{"version":3,"sources":["/Volumes/Transcend/Coding Projects/React Projects/instagram-clone/components/home/Post.js"],"names":["React","useState","Divider","firebase","db","Post","post","navigation","PostHeader","flexDirection","justifyContent","paddingHorizontal","paddingVertical","backgroundColor","alignItems","uri","profile_picture","width","height","borderRadius","color","marginLeft","fontWeight","user","require","PostImage","imageURL","resizeMode","PostFooter","handleLikes","currentLikeStatus","likes_by_users","includes","auth","currentUser","email","collection","doc","owner_email","id","update","firestore","FieldValue","arrayUnion","arrayRemove","then","console","log","catch","error","styles","footerIcon","push","transform","rotate","marginRight","PostLikes","length","toLocaleString","PostCaption","marginTop","caption","PostCommentsSection","comments","marginVertical","PostComments","firstTwoComments","slice","marginBottom","map","comment","index","text","StyleSheet","create"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, Image, TouchableOpacity, StyleSheet } from 'react-native';\nimport { Divider } from 'react-native-elements';\nimport { firebase, db } from '../../firebase'\n\nconst Post = ({ post, navigation }) => {\n\treturn (\n\t\t<View>\n\t\t\t<Divider orientation='vertical'/>\n\t\t\t<PostHeader post={post} />\n\t\t\t<PostImage post={post} />\n\t\t\t<PostFooter post={post} navigation={navigation}/>\n\t\t</View>\n\t)\n}\n\nconst PostHeader = ({ post }) => {\n\treturn (\n\t\t<View style={{flexDirection: 'row', justifyContent: 'space-between', paddingHorizontal: 10, paddingVertical: 8, backgroundColor: '#fff'}}>\n\t\t\t<View style={{flexDirection: 'row', alignItems:'center'}}>\n\t\t\t\t<Image source={{uri: post.profile_picture}} style={{width:35, height:35, borderRadius: 40}}/>\n\t\t\t\t<Text style={{color: '#000', marginLeft: 10, fontWeight: '600'}}>{post.user}</Text>\n\t\t\t</View>\n\t\t\t<TouchableOpacity style={{justifyContent: 'center', alignItems: 'center'}}>\n\t\t\t\t<Image style={{width:25, height:25}} source={require('../../assets/post-header-menu.png')} />\n\t\t\t</TouchableOpacity>\n\t\t</View>\n\t)\n}\n\nconst PostImage = ({ post }) => {\n\treturn (\n\t\t<Image source={{uri: post.imageURL}} style={{width: '100%',height: 400, resizeMode: 'cover'}} />\n\t)\n}\n\n\n\nconst PostFooter = ({ post, navigation }) => {\n\tconst handleLikes = () => {\n\t\tconst currentLikeStatus = !post.likes_by_users.includes(firebase.auth().currentUser.email)\n\t\t\n\t\tdb.collection('users').doc(post.owner_email).collection('posts').doc(post.id).update({\n\t\t\tlikes_by_users: currentLikeStatus ? \n\t\t\t\tfirebase.firestore.FieldValue.arrayUnion(firebase.auth().currentUser.email) : \n\t\t\t\tfirebase.firestore.FieldValue.arrayRemove(firebase.auth().currentUser.email)\n\t\t}).then(()=>{\n\t\t\tconsole.log(\"Document updated successfully\")\n\t\t}).catch(error => {\n\t\t\tconsole.log(\"Error updating document: \", error)\n\t\t})\n\t}\n\t\n\treturn (\n\t\t<View style={{paddingHorizontal: 15}}>\n\t\t\t<View style={{flexDirection:'row', justifyContent: 'space-between', paddingVertical: 10}}>\n\t\t\t\t<View style={{flexDirection: 'row', alignItems: 'center'}}>\n\t\t\t\t\t<TouchableOpacity onPress={()=>handleLikes(post)}>\n\t\t\t\t\t\t<Image source={post.likes_by_users.includes(firebase.auth().currentUser.email) ? require('../../assets/heart-icon-filled.png') : require('../../assets/heart-icon.png')} style={styles.footerIcon}/>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t<TouchableOpacity onPress={()=>navigation.push('CommentsScreen', {post: post})}>\n\t\t\t\t\t\t<Image source={require('../../assets/comment-icon.png')} style={styles.footerIcon}/>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t<TouchableOpacity>\n\t\t\t\t\t\t<Image source={require('../../assets/share-icon.png')} style={[styles.footerIcon, {transform: [{rotate: '45deg'}]}]}/>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</View>\n\t\t\t\t<View>\n\t\t\t\t\t<TouchableOpacity>\n\t\t\t\t\t\t<Image source={require('../../assets/save-icon.png')} style={[styles.footerIcon, {marginRight: 0}]}/>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t\t<PostLikes post={post} />\n\t\t\t<PostCaption post={post}/>\n\t\t\t<PostCommentsSection post={post} navigation={navigation}/>\n\t\t\t<PostComments post={post} />\n\t\t</View>\n\t)\n}\n\nconst PostLikes = ({post}) => {\n\treturn (\n\t\t<Text style={{color: '#000', fontWeight: '500'}}>{post.likes_by_users.length.toLocaleString('en')} likes</Text>\n\t)\n}\n\nconst PostCaption = ({ post }) => {\n\treturn (\n\t\t<Text style={{color: '#000', marginTop: 7}}><Text style={{fontWeight: '700'}}>{post.user}</Text> {post.caption}</Text>\n\t)\n}\n\nconst PostCommentsSection = ({post, navigation}) => {\n\treturn (\n\t\t<TouchableOpacity onPress={()=>navigation.push('CommentsScreen', {post: post})}>\n\t\t<View>\n\t\t\t{post.comments.length != 0 ? (<Text style={{color: '#000', marginVertical: 5}}>\n\t\t\tView{post.comments.length > 1 ? ' all' : ''} {post.comments.length} {post.comments.length > 1 ? 'comments' : 'comment'}\n\t\t\t</Text>) : null}\n\t\t</View>\n\t\t</TouchableOpacity>\n\t)\n}\n\nconst PostComments = ({ post }) => {\n\tconst firstTwoComments = post.comments.length > 1 ? post.comments.slice(0, 2) : null;\n\treturn ( \n\t\t<View style={{marginBottom: 10}}>\n\t\t{firstTwoComments ? \n\t\t\tfirstTwoComments.map((comment, index) => {\n\t\t\t\treturn <Text style={{marginBottom: 2, color: '#000'}} key={index}><Text style={{fontWeight: '700'}}>{comment.user}</Text> {comment.text}</Text>\n\t\t\t})\n\t\t\t: post.comments.map((comment, index) => {\n\t\t\t\treturn <Text style={{marginBottom: 2, color: '#000'}} key={index}><Text style={{fontWeight: '700'}}>{comment.user}</Text> {comment.text}</Text>\n\t\t\t})\n\t\t}\n\t\t</View>\n\t)\n}\n\nconst styles = StyleSheet.create({\n\tfooterIcon: {\n\t\twidth:30,\n\t\theight:30,\n\t\tmarginRight: 15\n\t}\n})\n\nexport default Post"]},"metadata":{},"sourceType":"module"}